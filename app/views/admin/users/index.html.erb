<h1>ユーザー一覧</h1>

<div class="container">
  <div class="row">
    <div class="new_button btn-primary btn">
      <%= link_to t('view.create'), new_admin_user_path,class: "create" %>
    </div>
    <table>
      <tr>
        <th>名前</th>
        <th>メールアドレス</th>
        <th>タスク数</th>
        <th>管理者権限</th>
      </tr>
      <% @users.each do |user| %>
          <tr class="task_row <%= user.id %>">
            <td><%= user.name %></td>
            <td><%= user.email %></td>
            <td><%= user.tasks.count %></td>
            <td><%= user.admin_flag %></td>
            <td class="button"><%= link_to t('view.show'), user_path(user.id), class: "btn btn-outline-primary" %></td>
            <td class="button"><%= link_to t('view.edit'), edit_admin_user_path(user.id), class: "btn btn-outline-success" %></td>
            <td class="button"><%= link_to t('view.destroy'), admin_user_path(user.id), method: :delete ,data: { confirm:'削除しますか？'}, class: "btn btn-outline-danger" %></td>
          </tr>
        <% end %>
    </table>
  </div>
</div>
